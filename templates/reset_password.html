{% load static %}
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Django Admin</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="{% static 'output.css' %}" />
        {% block head %}{% endblock %}
    </head>
    <body>
        <main class="flex h-screen overflow-hidden bg-soft">
            <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-md h-min m-auto my-auto">
                <h2 class="text-2xl font-semibold text-center mb-6">Reset Password</h2>
                {% if validlink %}
                    {% if form.errors %}
                        <div class="bg-red-100 text-red-700 p-4 rounded mb-4">
                            {% for field, error_list in form.errors.items %}
                                {% for error in error_list %}<p>{{ error }}</p>{% endfor %}
                            {% endfor %}
                        </div>
                    {% endif %}
                    <form method="post" class="space-y-4">
                        {% csrf_token %}
                        <div>
                            <label for="{{ form.new_password1.id_for_label }}"
                                   class="block text-sm font-medium text-gray-700">
                                {{ form.new_password1.label }}
                            </label>
                            <input type="password"
                                   name="{{ form.new_password1.name }}"
                                   id="{{ form.new_password1.id_for_label }}"
                                   class="mt-1 block w-full px-4 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 border-gray-300" />
                            {% if form.new_password1.help_text %}
                                <div class="text-sm text-gray-500 mt-1">{{ form.new_password1.help_text|safe }}</div>
                            {% endif %}
                        </div>
                        <div>
                            <label for="{{ form.new_password2.id_for_label }}"
                                   class="block text-sm font-medium text-gray-700">
                                {{ form.new_password2.label }}
                            </label>
                            <input type="password"
                                   name="{{ form.new_password2.name }}"
                                   id="{{ form.new_password2.id_for_label }}"
                                   class="mt-1 block w-full px-4 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 border-gray-300" />
                        </div>
                        <div>
                            <button type="submit"
                                    class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition bg-soft">
                                Reset Password
                            </button>
                        </div>
                    </form>
                {% else %}
                    <div class="bg-red-100 text-red-700 p-4 rounded mb-4">
                        <p>This link is invalid because it has already been used, please press the forgot password button again in the application.</p>
                    </div>
                {% endif %}
            </div>
        </main>
    </body>
</html>
